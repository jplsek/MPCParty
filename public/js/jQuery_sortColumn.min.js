$.fn.sortColumn=function(e){function r(e,r){return function(t,n){var i=$(t).children("td:nth-child("+e+")").html(),l=$(n).children("td:nth-child("+e+")").html();if("dd-mm-yyyy"==r)return""===i&&(i="01-01-1970"),""===l&&(l="01-01-1970"),i=i.split("-"),l=l.split("-"),i=new Date(i[2],i[1]-1,i[0]).getTime(),l=new Date(l[2],l[1]-1,l[0]).getTime(),i>l?1:i==l?0:-1;if("dd/mm/yyyy"==r)return""===i&&(i="01/01/1970"),""===l&&(l="01/01/1970"),i=i.split("/"),l=l.split("/"),i=new Date(i[2],i[1]-1,i[0]).getTime(),l=new Date(l[2],l[1]-1,l[0]).getTime(),i>l?1:i==l?0:-1;if("number"==r)return i||l?i?l?i-l:1:-1:0;if("currency"==r)return i=i.replace(/\$/g,""),i=i.replace(/\,/g,""),l=l.replace(/\$/g,""),l=l.replace(/\,/g,""),i-l;if("string"==r)return i||l?i?l?1==i.toLowerCase().localeCompare(l.toLowerCase())?1:i==l?0:-1:1:-1:0;if("00:00"==r){if(!i&&!l)return 0;if(!i)return-1;if(!l)return 1;var a=i.split(":"),s=l.split(":"),d=parseInt(a[1]),o=parseInt(s[1]),u=parseInt(a[0]),c=parseInt(s[0]);return d=60*u+d,o=60*c+o,d-o}}}var t=this,n=$.extend({},$.fn.sortColumn.defaults,e),i=n.order,l=n.index,a=n.format,s=[],d=[];t.children("tbody").children("tr").each(function(e,r){s.push(r)}),d=s.sort(r(l,a)),"desc"==i&&(d=d.reverse()),t.children("tbody").html(d)},$.fn.sortColumn.defaults={index:1,order:"asc",format:"string"};
